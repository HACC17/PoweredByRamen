<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <meta name="language" content="english">
    <meta http-equiv="Content-Style-Type" content="text/css">

    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script>
		$(function() {

			$("#text-one").change(function() {
				$("#text-two").load("textdata/" + $(this).val() + ".txt");
			});

			$("#ContaminantType").change(function() {

				var $dropdown = $(this);

                var key = $dropdown.val();
                var vals = [];

                switch(key) {
                    case 'Chemical':
                        vals = {{ listOfChemicalNames|safe }};
                        break;
                    case 'CAS':
                        vals = {{ listOfCASNames|safe }};
                        break;
                    case 'base':
                        vals = ['Please choose from above'];
                }

                var $jsontwo = $("#ContaminantName");
                $jsontwo.empty();
                $.each(vals, function(index, value) {
                    $jsontwo.append("<option>" + value + "</option>");
                });
			});

		});

		$(document).ready(function () {
            $('#myform').on('submit', function(e) {
                e.preventDefault();
                $.ajax({
                    url : $(this).attr('action'),
                    type: "GET",
                    data:
                    {
                        LandUse: $("#LandUse").val(),
                        GroundWaterUtility: $("#GroundWaterUtility").val(),
                        DistanceToNearest: $("#DistanceToNearest").val(),
                        ContaminantType: $("#ContaminantType").val(),
                        ContaminantName: $("#ContaminantName").val()
                    },
                }).done(function(returned_data){

                    // This is the ajax.done() method, where you can fire events after the ajax method is complete

                    // For instance, you could hide/display your add/remove button here
                    $('input.txtSoil').val('{{ soil|safe }}');
                    $('input.txtGroundwater').val('{{ groundWater|safe }}');
                    $('input.txtVapor').val('{{ soilVapor|safe }}');

                });
            });
        });
    </script>

    <script type="text/javascript">
        // from textBoxes.html
        function getResult(){
            var txtSoil = document.getElementById("txtSoil");
            var txtGroundwater = document.getElementById("txtGroundwater");
            var txtVapor = document.getElementById("txtVapor");
            txtSoil.value = "{{ soil|safe }}"
            txtGroundwater.value = "{{ groundWater|safe }}"
            txtVapor.value = "{{ soilVapor|safe }}"
        } // end getResult
    </script>

    <title></title>

    <style type="text/css">
        #navbar #country-select {
            float: left;
            width: 188px;
            height:39px;
        }

        #vertical{
            float:left;
            width:100%;
            height:50%;
            margin-top:-11px; /* half the select height*/
        }

        #navbar select {
            clear:both;
            width: 188px;
            height:22px;
        }


    </style>
</head>

<body>

<h1>EAL Surfer <a href="#"><img class="smaller-image" alt="EAL Surfer logo" src="{{ STATIC_URL }} /static/EALSurferLog.png"></a></h1>
<link href="https://fonts.googleapis.com/css?family=Lobster" rel="stylesheet" type="text/css">
<h2 class="red-text">Environmental Action Levels Surfer</h2>
<h3>Hawaii DOH </h3> <a href="#"><img class="smaller-image" alt="About Department of Health logo" src="http://health.hawaii.gov/about/files/2014/04/logo.png"></a>
<h3></h3>
<h3>Site Input Worksheet</h3>
<div id="navbar">

    <div id="country-select">

        <div id="vertical">
            <form id="myform" action="" method="get">
                <label>Land Use: </label>
                <select id="LandUse">
                    <option selected value="base">Please Select</option>
                    <option value="unrestricted">Unrestricted</option>
                    <option value="commercial">Commercia/Industrial Only</option>
                </select>
                <h3></h3>
                <label>Ground Water Utility: </label>
                <select id="GroundWaterUtility">
                    <option selected value="base">Please Select</option>
                    <option value="drinking">Dringin Water Resource</option>
                    <option value="nondrinking">Nondrinking Water Resource</option>
                </select>
                <h3></h3>
                <label>Distance To Nearest Surface Water Body: </label>
                <select id="DistanceToNearest">
                    <option selected value="base">Please Select</option>
                    <option value="lessthan"> < 150m</option>
                    <option value="greaterthan"> > 150m</option>
                </select>
                <h3></h3>
                <label>Select Contaminant</label>
                <select id="ContaminantType">
                    <option selected value="base">Please Select</option>
                    <option value="Chemical">Chemical</option>
                    <option value="CAS">CAS</option>
                </select>
                <select id="ContaminantName">
                    <option>Please choose from above</option>
                </select>
                <h3></h3>

                <input type="submit" value="Submit"/>
                <h3></h3>
            </form>

            <fieldset>
                <label>Final EALs: </label>
                <h3></h3>
                Soil (mg/kg): <input type="text" name="soilResult" id="txtSoil"/>
                Groundwater (ug/L): <input type="text" name="groundWaterResult" id="txtGroundwater"/>
                Soil Vapor (ug/m^3): <input type="text" name="soilVaporResult" id="txtVapor"/>
            </fieldset>

        </div>
    </div>
</div>

</body>
</html>
